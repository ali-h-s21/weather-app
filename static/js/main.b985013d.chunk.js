(this["webpackJsonphello-world"]=this["webpackJsonphello-world"]||[]).push([[0],{17:function(e,t,c){},18:function(e,t,c){},19:function(e,t,c){"use strict";c.r(t);var s=c(2),n=c.n(s),a=c(8),r=c.n(a),i=c(5),o=c(0);var l=function(e){var t=e.setCity,c=e.showSearchError,n=e.isErrorShown,a=Object(s.useState)(),r=Object(i.a)(a,2),l=r[0],j=r[1];return Object(o.jsx)("form",{onSubmit:function(e){e.preventDefault(),t(l)},children:Object(o.jsxs)("div",{className:"search",children:[Object(o.jsx)("input",{type:"text",className:"searchInput",placeholder:"City",required:!0,onChange:function(e){n&&c(!1),j(e.target.value)}}),Object(o.jsx)("button",{type:"submit",className:"searchButton",children:Object(o.jsx)("img",{src:"/images/icons/search-icon.svg",alt:""})})]})})},j=function(e){var t=e.units,c=e.toggleUnits;function s(e){c(e.target.value)}return Object(o.jsxs)("div",{className:"wrapper",children:[Object(o.jsx)("input",{type:"radio",name:"unit",id:"option-1",value:"imperial",className:"option__1",checked:"imperial"===t,onChange:s}),Object(o.jsx)("input",{type:"radio",name:"unit",id:"option-2",value:"metric",checked:"metric"===t,className:"option__2",onChange:s}),Object(o.jsx)("label",{htmlFor:"option-1",className:"option option-1",children:Object(o.jsx)("span",{children:"F\xb0"})}),Object(o.jsx)("label",{htmlFor:"option-2",className:"option option-2",children:Object(o.jsx)("span",{children:"C\xb0"})})]})},d=Error=function(e){return Object(o.jsx)("div",{className:"error-box",children:Object(o.jsx)("h6",{className:"error-msg",children:e.errorMsg})})},u=c(7),h=c.n(u),m=c(9),b=(c(16),c(22)),O=c(21);function x(e,t){return Object(b.a)(Object(O.a)(e),"h".concat(t?":mm":""," aa"))}function p(e,t,c){return{main:{cityName:t[0].name,country:t[0].country,temp:" ".concat(Math.round(e.temp)," ").concat("imperial"===c?"F\xb0":"C\xb0"),icon:e.weather[0].icon,condition:e.weather[0].main},details:{description:e.weather[0].description,feels_like:"".concat(Math.round(e.feels_like)," \xb0"),wind:"".concat("imperial"===c?"".concat(e.wind_speed," miles/h"):"".concat((s=e.wind_speed,parseFloat(3.6*s).toFixed(2))," km/h")),humidity:"".concat(e.humidity,"%"),pressure:"".concat(e.pressure," hPa"),visibility:"".concat(e.visibility/1e3," km"),sunrise:x(e.sunrise,!0),sunset:x(e.sunset,!0)}};var s}function f(e){var t=e.slice(0,24).map((function(e){return{temp:Math.round(e.temp),time:x(e.dt),icon:e.weather[0].icon}}));return t[0].time="Now",t}function g(e){return e.map((function(e){return{day:(t=e.dt,Object(b.a)(Object(O.a)(t),"EEEE")),icon:e.weather[0].icon,max_temp:Math.round(e.temp.max),min_temp:Math.round(e.temp.min)};var t}))}var y=Object(s.createContext)({});function v(e){var t="f6694629600c07e9b0824433f7ba1497",c=Object(s.useState)(!0),n=Object(i.a)(c,2),a=n[0],r=n[1],l=Object(s.useState)(""),j=Object(i.a)(l,2),d=j[0],u=j[1],b=Object(s.useState)(""),O=Object(i.a)(b,2),x=O[0],v=O[1],N=Object(s.useState)(""),w=Object(i.a)(N,2),S=w[0],C=w[1],E=Object(s.useState)("london"),k=Object(i.a)(E,2),_=k[0],F=k[1],I=Object(s.useState)("metric"),M=Object(i.a)(I,2),D=M[0],W=M[1],A=Object(s.useState)(!1),U=Object(i.a)(A,2),R=U[0],q=U[1];return Object(s.useEffect)((function(){function e(){return(e=Object(m.a)(h.a.mark((function e(){var c,s,n,a,i,o,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.openweathermap.org/geo/1.0/direct?q=".concat(_,"&appid=").concat(t));case 3:return c=e.sent,e.next=6,c.json();case 6:if(!((s=e.sent).length>0)){e.next=28;break}return localStorage.setItem("lastSucssesfullSearch",_),r(!0),u(""),C(""),v(""),e.next=15,fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(s[0].lat,"&lon=").concat(s[0].lon,"&appid=").concat(t,"&units=").concat(D));case 15:return n=e.sent,e.next=18,n.json();case 18:a=e.sent,i=p(a.current,s,D),o=f(a.hourly),l=g(a.daily),u(i),C(o),v(l),r(!1),e.next=30;break;case 28:F(localStorage.getItem("lastSucssesfullSearch")),q(!0);case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(0),console.error(e.t0);case 35:case"end":return e.stop()}}),e,null,[[0,32]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[_,D,t]),Object(o.jsx)(y.Provider,{value:{isloading:a,dailyForecast:x,todayWeatherData:d,hourlyData:S,city:_,setCity:F,units:D,setUnits:W,setShowSearchError:q,showSearchError:R},children:e.children})}var N=function(){var e=Object(s.useContext)(y),t=e.units,c=e.setUnits,n=e.showSearchError,a=e.setShowSearchError,r=e.setCity;return Object(o.jsxs)("header",{className:"header",children:[n&&Object(o.jsx)(d,{errorMsg:"ERROR: City Not Found"}),Object(o.jsx)("img",{className:"logo",src:"https://openweathermap.org/themes/openweathermap/assets/img/logo_white_cropped.png",style:{maxWidth:"100px",height:"auto"},alt:"openWeatherLogo"}),Object(o.jsx)(l,{showSearchError:a,isErrorShown:n,setCity:r}),Object(o.jsx)(j,{units:t,toggleUnits:c})]})},w=function(e){return Object(o.jsxs)("div",{className:"single-hour-forecast",children:[Object(o.jsx)("p",{children:e.text1}),Object(o.jsx)("img",{src:"./images/weather-icons/".concat(e.icon,".svg"),alt:""}),Object(o.jsxs)("p",{children:[e.degree1,"\xb0"]}),e.degree2&&Object(o.jsxs)("p",{children:[e.degree2,"\xb0"]})]})},S=function(e){return Object(o.jsx)("div",{className:e.styleClass,children:e.children})},C=function(){var e=Object(s.useContext)(y),t=e.hourlyData,c=e.isloading,n=Array.from(Array(20).keys());return Object(o.jsxs)("div",{className:"today-forecast-section",children:[Object(o.jsx)("h6",{children:" Today "}),Object(o.jsxs)("div",{className:"today-forecast-weather",children:[c&&n.map((function(e,t){return Object(o.jsx)(S,{styleClass:"loading-hour-forecast"},t)})),!c&&t.map((function(e,t){return Object(o.jsx)(w,{icon:e.icon,text1:e.time,degree1:e.temp},t)}))]}),Object(o.jsx)("hr",{})]})},E=function(){var e=Object(s.useContext)(y),t=e.dailyForecast,c=e.isloading,n=Array.from(Array(8).keys());return Object(o.jsxs)("div",{className:"forecast-section",children:[c&&n.map((function(e,t){return Object(o.jsx)(S,{styleClass:"loading-day-forecast"},t)})),!c&&t.map((function(e,t){return Object(o.jsx)(w,{text1:e.day,degree1:e.max_temp,degree2:e.min_temp,icon:e.icon},t)}))]})},k=function(e){return Object(o.jsxs)("div",{className:"card",children:[Object(o.jsxs)("div",{className:"card-heading",children:[Object(o.jsx)("span",{className:"detail-title",children:e.title}),Object(o.jsx)("img",{src:"./images/icons/".concat(e.iconName,".svg"),alt:"",className:"detail-img"})]}),Object(o.jsx)("p",{className:"detail-content",children:e.content})]})},_=function(){var e=Object(s.useContext)(y).todayWeatherData;return Object(o.jsxs)("div",{className:"details-section",children:[Object(o.jsx)("h6",{children:" details"}),Object(o.jsx)("div",{className:"details",children:e&&Object.keys(e.details).map((function(t,c){return Object(o.jsx)(k,{iconName:t,title:t.split("_").join(" "),content:e.details[t]},c)}))})]})},F=function(){return Object(o.jsxs)("div",{className:"weather-body",children:[Object(o.jsx)(C,{}),Object(o.jsx)(E,{}),Object(o.jsx)(_,{})]})};function I(e){return Object(o.jsxs)("div",{className:e.boxStyle,children:[Object(o.jsx)("span",{className:e.firstChildStyle,children:e.firstInfo}),Object(o.jsx)("span",{className:e.secChildStyle,children:e.secInfo})]})}function M(e){return Object(o.jsx)("div",{className:"img-box",children:Object(o.jsx)("img",{src:"./images/weather-icons/".concat(e.icon,".svg"),className:"weather-header-img",alt:""})})}var D=function(){var e=Object(s.useContext)(y),t=e.todayWeatherData,c=e.isloading;return Object(o.jsxs)("div",{className:"weather-header",children:[!c&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(I,{boxStyle:"location",firstChildStyle:"city",secChildStyle:"contury",firstInfo:t.main.cityName,secInfo:t.main.country}),Object(o.jsx)(I,{boxStyle:"deg-status",firstChildStyle:"deg",secChildStyle:"status",firstInfo:"".concat(t.main.temp," "),secInfo:t.main.condition}),Object(o.jsx)(M,{icon:t.main.icon})]}),c&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(S,{styleClass:"location",children:[Object(o.jsx)(S,{styleClass:"loading-city"}),Object(o.jsx)(S,{styleClass:"loading-country"})]}),Object(o.jsxs)(S,{styleClass:"deg-status",children:[Object(o.jsx)(S,{styleClass:"loading-degree"}),Object(o.jsx)(S,{styleClass:"loading-condition"})]}),Object(o.jsx)(S,{styleClass:"loading-img"})]})]})};c(17);var W=function(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(v,{children:[Object(o.jsx)(N,{}),Object(o.jsx)(D,{}),Object(o.jsx)(F,{})]})})};c(18);r.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(W,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.b985013d.chunk.js.map